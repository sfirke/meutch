{% extends "base.html" %}

{% block content %}
<h1>Search Items</h1>
<form method="get">
    <input type="text" name="q" value="{{ request.args.get('q', '') }}">
    <select name="circle">
        <option value="">All Available Circles</option>
        {% for circle in circles %}
        <option value="{{ circle.id }}">{{ circle.name }}</option>
        {% endfor %}
    </select>
    <label><input type="checkbox" name="friends_only" value="1"> Friends Only</label>
    <input type="submit" value="Search">
</form>

<div class="search-results">
    {% for item in items %}
    <div class="item-card">
        <h3>{{ item.name }}</h3>
        <p>{{ item.description }}</p>
        <p>Owner: {{ item.owner.full_name }}</p>
        <a href="{{ url_for('main.item_detail', item_id=item.id) }}">View Details</a>
    </div>
    {% endfor %}
</div>
{% endblock %}